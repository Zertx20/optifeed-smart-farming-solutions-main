import { motion, AnimatePresence } from "framer-motion";
import { X, Landmark, Wheat, FlaskConical, Users, ShoppingCart, Monitor, GraduationCap } from "lucide-react";
import { Button } from "@/components/ui/button";

interface DirectorateDetails {
  icon: any;
  title: string;
  subtitle: string;
  fullDescription: string;
  responsibilities: string[];
  objectives: string[];
}

const directoratesData: Record<string, DirectorateDetails> = {
  management: {
    icon: Landmark,
    title: "الإدارة العامة",
    subtitle: "General Management",
    fullDescription: `الإدارة العامة في منصة OptiFeed تمثل العقل الاستراتيجي والمحرك السيادي للمنظومة بأكملها، إذ تضطلع بمهمة صياغة الرؤية الوطنية الشاملة للتحول الزراعي الذكي، وترجمتها إلى سياسات تنفيذية وخطط عمل قابلة للقياس والتطبيق. فهي لا تكتفي بتحديد الأهداف الكبرى، بل تعمل على بناء إطار استراتيجي متكامل يربط بين الإنتاج، التكنولوجيا، البحث العلمي، والسوق، بما يضمن انسجام جميع المكونات ضمن توجه وطني موحد يخدم الأمن الغذائي والتنمية المستدامة.

وتقوم الإدارة العامة بوضع الاستراتيجيات القطاعية المنبثقة عن الرؤية الكلية، مع تحديد الأولويات الاستثمارية، توزيع الموارد، وضبط آليات المتابعة والتقييم عبر مؤشرات أداء دقيقة (KPIs). كما تشرف على إعداد الدراسات الاستشرافية وتحليل المخاطر المستقبلية المرتبطة بالتغيرات المناخية، تقلبات الأسواق، الأمن المائي، وسلاسل الإمداد، لضمان جاهزية المنصة وقدرتها على التكيف مع التحديات.

في جانب الحوكمة، تتولى الإدارة العامة وضع أطر تنظيمية واضحة تضمن الشفافية، المساءلة، والكفاءة في اتخاذ القرار، مع اعتماد أنظمة رقابية داخلية وآليات تدقيق تضمن حسن استغلال الموارد وتحقيق الأثر الاقتصادي والاجتماعي المرجو. كما تعمل على بناء ثقافة مؤسسية قائمة على الابتكار، الأداء العالي، وروح التكامل بين الفرق.

أما على مستوى الشراكات، فتضطلع الإدارة بدور استراتيجي في إبرام اتفاقيات تعاون مع الهيئات الحكومية، المؤسسات البحثية، المستثمرين، والمؤسسات الدولية، بما يعزز نقل التكنولوجيا، دعم الابتكار، وتوسيع نطاق التأثير إقليمياً ودولياً. كما تسعى إلى استقطاب الاستثمارات النوعية التي تدعم مشاريع التحول الرقمي، التصنيع الغذائي، والتوسع في الزراعة الذكية.

وتضمن الإدارة العامة التكامل العملي بين مختلف المديريات والأقطاب، عبر تنسيق السياسات، توحيد الرؤية التشغيلية، وإزالة أي تعارض بين الأهداف القطاعية، بحيث تعمل المنصة كنظام متكامل مترابط، لا كمجموعة وحدات منفصلة. ويشكل هذا التكامل أساس تحقيق الكفاءة التشغيلية وتعظيم القيمة المضافة على المستوى الوطني.

وفي جوهرها، تمثل الإدارة العامة مركز صناعة القرار، ومنبع التوجيه الاستراتيجي الشامل، والمسؤولة عن حماية المسار الوطني للمشروع، وضمان استدامته، وتعزيز مكانته كمحرك رئيسي لتحويل الزراعة الجزائرية إلى صناعة ذكية قائمة على البيانات، الابتكار، والسيادة الاقتصادية.`,
    responsibilities: [
      "صياغة الرؤية الوطنية الشاملة للتحول الزراعي الذكي",
      "وضع الاستراتيجيات القطاعية وتحديد الأولويات الاستثمارية",
      "إعداد الدراسات الاستشرافية وتحليل المخاطر المستقبلية",
      "بناء أطر الحوكمة والشفافية والمساءلة",
      "إبرام اتفاقيات الشراكة الاستراتيجية",
      "تنسيق التكامل بين المديريات المختلفة"
    ],
    objectives: [
      "تحقيق الأمن الغذائي والتنمية المستدامة",
      "ضمان الكفاءة في اتخاذ القرار واستغلال الموارد",
      "تعزيز نقل التكنولوجيا والابتكار",
      "تحقيق التكامل العملي بين مكونات المنصة",
      "حماية المسار الوطني للمشروع واستدامته"
    ]
  },
  agriculture: {
    icon: Wheat,
    title: "الإنتاج الزراعي",
    subtitle: "Agricultural Production",
    fullDescription: `قطاع الإنتاج الزراعي في منصة OptiFeed يُعد الركيزة الأساسية لضمان توفير المادة الخام محليًا بنسبة عالية، ويشكّل نقطة الانطلاق لسلسلة القيمة الزراعية بأكملها. يهدف هذا القطاع إلى استغلال الأراضي الزراعية بطريقة علمية ومدروسة، عبر اعتماد خرائط زراعية دقيقة، تحليل التربة، وتخطيط المحاصيل بما يتناسب مع الخصائص المناخية والبيئية لكل منطقة، لضمان أعلى مردودية بأقل تكلفة وأدنى استهلاك للموارد.

يركّز القطاع على إنتاج الأعلاف الخضراء والسيلاج بجودة عالية لتغطية احتياجات الثروة الحيوانية محليًا، مع تقليل الاعتماد على الاستيراد. ويتم ذلك من خلال اعتماد دورات زراعية مدروسة، اختيار أصناف مقاومة للجفاف، وتحسين الإنتاجية باستخدام تقنيات الزراعة الذكية والميكنة الحديثة. كما يتم العمل على تطوير إنتاج محاصيل استراتيجية موجهة مباشرة لتغذية وحدات تصنيع الأعلاف داخل المنصة، بما يعزز التكامل الرأسي ويضمن استقرار سلسلة الإمداد.

في مجال إدارة الموارد المائية، يعتمد قطاع الإنتاج الزراعي على أنظمة الري المحوري الذكي، المزود بحساسات لقياس رطوبة التربة ومؤشرات الإجهاد المائي، مع استخدام تقنيات ترشيد استهلاك المياه والطاقة. ويتم دمج حلول الطاقة المتجددة، خاصة الطاقة الشمسية، لتشغيل أنظمة الضخ والري، مما يساهم في تقليل التكاليف التشغيلية وتحقيق استدامة بيئية طويلة المدى.

كما يتبنى القطاع منهجية إدارة إنتاج قائمة على البيانات، من خلال تتبع مراحل الزراعة، النمو، والحصاد، وتحليل الأداء الزراعي بشكل دوري لتحسين القرارات التشغيلية. ويتم قياس مؤشرات الإنتاجية لكل هكتار، استهلاك المياه، كفاءة الطاقة، وجودة المحصول، لضمان تحقيق أفضل النتائج الاقتصادية.

ويهدف هذا القطب إلى بناء قاعدة إنتاج وطني قوية قادرة على تلبية نسبة كبيرة من احتياجات السوق المحلية من المادة الخام، وتقليل فاتورة الاستيراد، وتعزيز الأمن الغذائي، وجعل الجزائر منتجًا استراتيجيًا للأعلاف والمحاصيل الزراعية في إطار رؤية سيادية ومستدامة.`,
    responsibilities: [
      "استغلال الأراضي الزراعية بطريقة علمية ومدروسة",
      "إنتاج الأعلاف الخضراء والسيلاج بجودة عالية",
      "إدارة أنظمة الري المحوري الذكي",
      "دمج حلول الطاقة المتجددة في العمليات الزراعية",
      "تتبع مراحل الزراعة والنمو والحصاد",
      "تحليل الأداء الزراعي وتحسين القرارات التشغيلية"
    ],
    objectives: [
      "توفير المادة الخام محليًا بنسبة عالية",
      "تقليل الاعتماد على الاستيراد",
      "تحقيق أعلى مردودية بأقل تكلفة",
      "ترشيد استهلاك المياه والطاقة",
      "بناء قاعدة إنتاج وطني قوية",
      "تعزيز الأمن الغذائي والسيادة الزراعية"
    ]
  },
  feed: {
    icon: FlaskConical,
    title: "تصنيع الأعلاف والتغذية",
    subtitle: "Feed & Nutrition",
    fullDescription: `قطاع تصنيع الأعلاف والتغذية (Feed & Nutrition) في منصة OptiFeed يمثل المحرك الإنتاجي الذي يحول المادة الخام الزراعية إلى قيمة غذائية عالية موجهة مباشرة لرفع أداء الثروة الحيوانية. يرتكز هذا القطاع على إنتاج الأعلاف المركزة وفق معايير علمية دقيقة تراعي الاحتياجات الفسيولوجية لكل نوع وسلالة، مع ضبط نسب البروتين، الطاقة، الألياف، الفيتامينات والأملاح المعدنية لتحقيق أعلى كفاءة تحويل غذائي.

تتم عملية تركيب الخلطات العلفية بناءً على برامج تغذية مخصصة حسب السلالات، العمر، مرحلة الإنتاج (إدرار، تسمين، نمو)، والظروف البيئية، مع الاعتماد على تحاليل مخبرية دورية لضمان الجودة والثبات الغذائي. كما يتم تطوير مكملات وقائية تركز على تعزيز المناعة، تحسين الهضم، تقليل الإجهاد الحراري، والوقاية من الاضطرابات الأيضية، مما يساهم في تقليل التكاليف البيطرية ورفع الاستقرار الصحي للقطيع.

ويعتمد القطاع على منهجية تغذية قائمة على البيانات، حيث يتم ربط نتائج الإنتاج (كمية الحليب، معدل النمو، نسبة التحويل الغذائي) بتركيبة العلف المستعمل، بهدف تحسين الصيغة الغذائية باستمرار. الهدف الاستراتيجي هو رفع إنتاج الحليب مقابل كل كغ علف، أي تحقيق أعلى مردودية إنتاجية بأقل استهلاك، مما ينعكس مباشرة على ربحية المربي واستدامة النشاط.

كما يعمل هذا القطب على تقليل الاعتماد على المواد المستوردة من خلال إدماج مكونات محلية في الخلطات العلفية، مع تطوير بدائل ذكية تتناسب مع الخصوصيات الزراعية الوطنية. وبهذا يشكل قطاع تصنيع الأعلاف والتغذية حلقة أساسية في تحقيق التكامل بين الإنتاج الزراعي والتقني، وضمان الأمن الغذائي من خلال تحسين كفاءة الإنتاج الحيواني على المستوى الوطني.`,
    responsibilities: [
      "إنتاج الأعلاف المركزة وفق معايير علمية دقيقة",
      "تركيب الخلطات العلفية حسب السلالات والمراحل الإنتاجية",
      "تطوير مكملات وقائية لتعزيز المناعة والصحة",
      "إجراء تحاليل مخبرية دورية لضمان الجودة",
      "ربط نتائج الإنتاج بتركيبة العلف المستعمل",
      "إدماج مكونات محلية في الخلطات العلفية"
    ],
    objectives: [
      "رفع إنتاج الحليب مقابل كل كغ علف",
      "تحقيق أعلى كفاءة تحويل غذائي",
      "تقليل التكاليف البيطرية ورفع الاستقرار الصحي",
      "تحسين ربحية المربي واستدامة النشاط",
      "تقليل الاعتماد على المواد المستوردة",
      "تحسين كفاءة الإنتاج الحيواني الوطني"
    ]
  },
  technical: {
    icon: Users,
    title: "المتابعة التقنية والمرافقة",
    subtitle: "Technical Field Services",
    fullDescription: `قطاع المتابعة التقنية والمرافقة (Technical Field Services) يشكل الذراع الميداني لمنصة OptiFeed، حيث يضمن التطبيق العملي للاستراتيجيات الغذائية والإنتاجية داخل المزارع، ويربط بين المعرفة العلمية والواقع اليومي للمربي. يقوم هذا القطاع بمتابعة المربين ميدانياً من خلال زيارات دورية منظمة، تقييم ظروف التربية، تحليل الأداء الإنتاجي، وتشخيص التحديات التقنية التي قد تؤثر على المردودية.

يتولى الفريق التقني إعداد برامج تغذية دقيقة ومخصصة لكل مزرعة، بناءً على معطيات حقيقية تشمل نوع السلالة، مرحلة الإنتاج، جودة العلف المتوفر، الظروف المناخية، ومستوى الأداء الحالي. كما يتم تعديل هذه البرامج بشكل مستمر وفق نتائج الإنتاج لضمان تحقيق أفضل كفاءة تحويل غذائي ورفع مستوى الإنتاج سواء في الحليب أو التسمين.

في جانب الصحة الحيوانية، يشرف القطاع على مراقبة صحة القطيع من خلال تتبع المؤشرات الحيوية، رصد الأمراض المحتملة، وتطبيق بروتوكولات وقائية بالتنسيق مع الأطباء البيطريين. ويشمل ذلك برامج التلقيح، إدارة الإجهاد الحراري، تحسين شروط الإيواء، وتقليل نسب النفوق والخسائر الإنتاجية.

كما يعتمد هذا القطب على نظام تقارير وتحليل بيانات ميدانية، حيث يتم جمع معلومات دقيقة حول الإنتاج، الاستهلاك، الخصوبة، ونسبة الأمراض، ثم تحليلها لإصدار توصيات عملية تساعد المربي على اتخاذ قرارات مبنية على معطيات علمية.

الهدف الاستراتيجي لهذا القطاع هو تحسين مردودية المزارع المرتبطة بالمنصة، من خلال رفع الإنتاج، تقليل التكاليف، تحسين الاستقرار الصحي للقطيع، وتعزيز الربحية على المدى الطويل، بما يخلق نموذج شراكة مستدامة بين المنصة والمربين قائم على الأداء والنتائج الملموسة.`,
    responsibilities: [
      "متابعة المربين ميدانياً عبر زيارات دورية منظمة",
      "تقييم ظروف التربية وتحليل الأداء الإنتاجي",
      "إعداد برامج تغذية دقيقة ومخصصة لكل مزرعة",
      "مراقبة صحة القطيع وتتبع المؤشرات الحيوية",
      "تطبيق بروتوكولات وقائية بالتنسيق مع الأطباء البيطريين",
      "جمع وتحليل البيانات الميدانية لإصدار توصيات عملية"
    ],
    objectives: [
      "تحسين مردودية المزارع المرتبطة بالمنصة",
      "رفع الإنتاج وتقليل التكاليف",
      "تحسين الاستقرار الصحي للقطيع",
      "تعزيز الربحية على المدى الطويل",
      "خلق نموذج شراكة مستدامة قائم على الأداء",
      "ربط المعرفة العلمية بالواقع اليومي للمربي"
    ]
  },
  supply: {
    icon: ShoppingCart,
    title: "التجارة والتوريد الفلاحي",
    subtitle: "Agri Supply & Trading",
    fullDescription: `قطاع **التجارة والتوريد الفلاحي (Agri Supply & Trading)** يمثل الحلقة الاستراتيجية التي تربط بين الإنتاج والسوق، ويهدف إلى ضمان توفير المدخلات الفلاحية بجودة عالية وأسعار تنافسية ضمن منظومة منظمة وشفافة. يتولى هذا القطاع بيع مختلف المستلزمات الزراعية، بما في ذلك البذور المحسّنة، الأسمدة، الأعلاف، المعدات الفلاحية، أنظمة الري، والمكملات البيطرية، مع اعتماد معايير صارمة في اختيار الموردين وضمان الجودة.

كما يشرف القطاع على عمليات الاستيراد والتصدير وفق رؤية استراتيجية تهدف إلى تأمين المواد غير المتوفرة محليًا من جهة، وفتح أسواق خارجية للمنتجات الوطنية من جهة أخرى. ويتم ذلك من خلال إدارة علاقات تجارية دولية، التفاوض على عقود طويلة المدى، وضمان الامتثال للمعايير التنظيمية والجمركية، بما يعزز مكانة المنصة في السوقين الوطني والإقليمي.

وفي جانب إدارة سلاسل الإمداد، يعتمد القطاع على أنظمة تنظيم حديثة تضمن التخطيط المسبق للطلب، إدارة المخزون بكفاءة، تحسين عمليات النقل والتوزيع، وتقليل فترات الانتظار والانقطاعات. ويتم تتبع حركة المنتجات من المصدر إلى المزرعة عبر آليات رقمية تضمن الشفافية والسرعة في الاستجابة.

الهدف الجوهري لهذا القطب هو تنظيم السوق وتقليل الوسطاء، من خلال إنشاء شبكة توزيع مباشرة تربط المنتجين والموردين بالمزارعين دون تعقيدات، مما يساهم في خفض التكاليف، استقرار الأسعار، وزيادة هامش الربح لصالح الفلاح. وبهذا يتحول القطاع إلى أداة استراتيجية لتحقيق العدالة السوقية، دعم الإنتاج الوطني، وتعزيز الاستقرار الاقتصادي في المنظومة الزراعية.`,
    responsibilities: [
      "بيع مختلف المستلزمات الزراعية بجودة عالية",
      "إدارة عمليات الاستيراد والتصدير الاستراتيجية",
      "إدارة علاقات تجارية دولية والتفاوض على العقود",
      "تنظيم سلاسل الإمداد بكفاءة",
      "تتبع حركة المنتجات عبر آليات رقمية",
      "ضمان الامتثال للمعايير التنظيمية والجمركية"
    ],
    objectives: [
      "تنظيم السوق وتقليل الوسطاء",
      "توفير المدخلات الفلاحية بأسعار تنافسية",
      "إنشاء شبكة توزيع مباشرة للمزارعين",
      "خفض التكاليف وزيادة هامش الربح للفلاح",
      "تحقيق العدالة السوقية واستقرار الأسعار",
      "تعزيز الاستقرار الاقتصادي في المنظومة الزراعية"
    ]
  },
  digital: {
    icon: Monitor,
    title: "الرقمنة والزراعة الذكية",
    subtitle: "Digital Agriculture",
    fullDescription: `قطاع الرقمنة والزراعة الذكية (Digital Agriculture) يشكل قلب منصة OptiFeed الرقمي، حيث يربط بين جميع العمليات الميدانية والإنتاجية بالسوق من خلال تقنيات متقدمة للتحليل، التتبع، والتخطيط الذكي. يهدف هذا القطاع إلى تحويل الزراعة التقليدية إلى صناعة ذكية قائمة على البيانات، مع التركيز على تحسين الإنتاجية، استدامة الموارد، وتعزيز اتخاذ القرار المبني على معلومات دقيقة وموثوقة.

يعتمد القطاع على تطوير المنصة الرقمية بحيث توفر واجهات مستخدم سهلة الاستخدام للمزارعين، التقنيين، والمديرين، مع إمكانية عرض البيانات الزراعية بشكل مباشر عبر لوحات تحكم متقدمة. كما يشمل جمع وتحليل البيانات من الحقول والمزارع، بما في ذلك نمو المحاصيل، رطوبة التربة، أداء القطيع، استهلاك المياه والطاقة، مما يمكّن من اتخاذ قرارات فورية لتحسين النتائج الإنتاجية.

يضم القطاع أيضًا أنظمة التتبع والتخطيط الذكي التي تسمح بمراقبة سلسلة الإمداد، تتبع المنتجات من الحقل إلى المستهلك، وإدارة الموارد بكفاءة عالية. يتم استخدام تقنيات الذكاء الاصطناعي، الأقمار الصناعية، والاستشعار عن بعد لتقديم تنبؤات دقيقة حول الإنتاج، متطلبات الري، المخاطر المناخية، والأمراض المحتملة، مما يقلل الهدر ويزيد من كفاءة الإنتاج.

أحد أهم الأهداف الاستراتيجية لهذا القطب هو امتلاك قاعدة بيانات فلاحية وطنية شاملة، تحتوي على معلومات مفصلة عن الأراضي، المحاصيل، الأعلاف، المزارعين، وأداء الإنتاج، لتكون مرجعًا علميًا وعمليًا لدعم السياسات الزراعية الوطنية، البحث العلمي، واتخاذ القرارات على مستوى الدولة. وبهذا يتحول القطاع الرقمي إلى أداة مركزية لتحقيق الزراعة الذكية، التكامل بين الأقطاب المختلفة، وضمان الأمن الغذائي المستدام.`,
    responsibilities: [
      "تطوير المنصة الرقمية مع واجهات سهلة الاستخدام",
      "جمع وتحليل البيانات من الحقول والمزارع",
      "توفير لوحات تحكم متقدمة لعرض البيانات الزراعية",
      "إدارة أنظمة التتبع والتخطيط الذكي",
      "استخدام الذكاء الاصطناعي والأقمار الصناعية للتنبؤات",
      "بناء قاعدة بيانات فلاحية وطنية شاملة"
    ],
    objectives: [
      "تحويل الزراعة التقليدية إلى صناعة ذكية قائمة على البيانات",
      "تحسين الإنتاجية واستدامة الموارد",
      "تعزيز اتخاذ القرار المبني على معلومات دقيقة",
      "تقليل الهدر وزيادة كفاءة الإنتاج",
      "تحقيق التكامل بين الأقطاب المختلفة",
      "ضمان الأمن الغذائي المستدام"
    ]
  },
  research: {
    icon: GraduationCap,
    title: "البحث والتطوير والتكوين",
    subtitle: "R&D and Training",
    fullDescription: `قطاع البحث والتطوير والتكوين (R&D and Training) يمثل مركز الابتكار والمعرفة في منصة OptiFeed، حيث يعمل على تطوير حلول زراعية متقدمة وتحويلها إلى إنتاج فعلي ينعكس على أداء المزارع وكفاءة الإنتاج الوطني. يركز هذا القطاع على مشاريع البحث التطبيقي التي تستهدف تحسين الإنتاجية، تطوير أصناف محاصيل مقاومة للجفاف والآفات، ابتكار خلطات أعلاف متقدمة، وتحسين تقنيات الري والزراعة الذكية.

كما تشمل أنشطة القطاع التجارب الحقلية التي تُجرى في مزارع نموذجية، لتقييم جدوى الحلول الزراعية الجديدة، قياس تأثيرها على الإنتاجية، الصحة الحيوانية، وكفاءة الموارد. تساعد هذه التجارب في ضبط المعايير التقنية، تعديل أساليب الزراعة والتغذية، وضمان أن تكون كل حلول البحث قابلة للتطبيق عمليًا في ظروف المزارع المحلية.

ويشكل تكوين الفلاحين والفنيين جزءًا أساسيًا من استراتيجية القطاع، حيث يتم تنظيم دورات تدريبية، ورش عمل، وبرامج تأهيلية لتعزيز القدرات الفنية للمزارعين، تطوير مهارات الفنيين، ونشر أفضل الممارسات الزراعية الحديثة. يتم دمج التدريب العملي مع المعلومات الرقمية والبيانات الميدانية لضمان انتقال المعرفة بشكل فعّال من المختبر إلى الحقل.

الهدف الاستراتيجي لهذا القطب هو تحويل المعرفة إلى إنتاج فعلي، أي التأكد من أن نتائج البحث العلمي والتجارب الميدانية تُترجم إلى تحسين ملموس في الإنتاج الزراعي، التغذية الحيوانية، وإدارة الموارد. بذلك يصبح قطاع البحث والتطوير والتكوين محركًا أساسياً للابتكار، استدامة الإنتاج، وتعزيز الأمن الغذائي الوطني، مع خلق قاعدة معرفية وطنية قوية لدعم الزراعة الذكية في الجزائر.`,
    responsibilities: [
      "تطوير حلول زراعية متقدمة ومشاريع بحث تطبيقي",
      "إجراء تجارب حقلية في مزارع نموذجية",
      "تطوير أصناف محاصيل مقاومة للجفاف والآفات",
      "ابتكار خلطات أعلاف متقدمة وتحسين تقنيات الري",
      "تنظيم دورات تدريبية وورش عمل للفلاحين والفنيين",
      "نشر أفضل الممارسات الزراعية الحديثة"
    ],
    objectives: [
      "تحويل المعرفة إلى إنتاج فعلي",
      "تحسين الإنتاجية وكفاءة الموارد",
      "ضمان تطبيق الحلول البحثية عمليًا في المزارع المحلية",
      "تعزيز القدرات الفنية للمزارعين والفنيين",
      "خلق قاعدة معرفية وطنية قوية",
      "دعم الزراعة الذكية والأمن الغذائي الوطني"
    ]
  }
};

interface DirectorateModalProps {
  isOpen: boolean;
  onClose: () => void;
  directorateKey: string | null;
}

const DirectorateModal = ({ isOpen, onClose, directorateKey }: DirectorateModalProps) => {
  if (!directorateKey || !directoratesData[directorateKey]) return null;

  const directorate = directoratesData[directorateKey];
  const Icon = directorate.icon;

  return (
    <AnimatePresence>
      {isOpen && (
        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          exit={{ opacity: 0 }}
          className="fixed inset-0 z-50 flex items-center justify-center p-4"
          onClick={onClose}
        >
          {/* Backdrop */}
          <motion.div
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            exit={{ opacity: 0 }}
            className="absolute inset-0 bg-black/60 backdrop-blur-sm"
          />

          {/* Modal Content */}
          <motion.div
            initial={{ opacity: 0, scale: 0.95, y: 20 }}
            animate={{ opacity: 1, scale: 1, y: 0 }}
            exit={{ opacity: 0, scale: 0.95, y: 20 }}
            transition={{ duration: 0.3 }}
            className="relative bg-background rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden border border-border"
            onClick={(e) => e.stopPropagation()}
            dir="rtl"
          >
            {/* Header */}
            <div className="relative h-32 gradient-gold overflow-hidden">
              <div className="absolute inset-0 bg-gradient-to-r from-primary/80 to-accent/80" />
              <div className="absolute inset-0" style={{
                backgroundImage: "radial-gradient(circle at 1px 1px, hsl(var(--primary-foreground) / 0.1) 1px, transparent 0)",
                backgroundSize: "20px 20px",
              }} />
              
              <div className="relative z-10 h-full flex items-center justify-between px-8">
                <div className="flex items-center gap-4">
                  <div className="w-16 h-16 rounded-2xl bg-background/20 backdrop-blur-sm flex items-center justify-center border border-white/20">
                    <Icon className="text-primary-foreground" size={32} />
                  </div>
                  <div>
                    <h2 className="font-arabic-heading font-black text-2xl text-primary-foreground">
                      {directorate.title}
                    </h2>
                    <p className="text-primary-foreground/80 font-bold text-sm tracking-wider uppercase">
                      {directorate.subtitle}
                    </p>
                  </div>
                </div>
                
                <Button
                  onClick={onClose}
                  variant="ghost"
                  size="icon"
                  className="text-primary-foreground hover:bg-white/20 transition-colors"
                >
                  <X size={24} />
                </Button>
              </div>
            </div>

            {/* Content */}
            <div className="p-8 overflow-y-auto max-h-[calc(90vh-8rem)]">
              {/* Full Description */}
              <div className="mb-8">
                <h3 className="font-arabic-heading font-bold text-xl text-foreground mb-4 flex items-center gap-2">
                  <div className="w-2 h-2 rounded-full gradient-gold" />
                  نبذة تعريفية
                </h3>
                <div className="bg-muted/30 rounded-2xl p-6 border border-border">
                  <p className="text-muted-foreground leading-relaxed font-arabic-body text-justify whitespace-pre-line">
                    {directorate.fullDescription}
                  </p>
                </div>
              </div>

              {/* Responsibilities */}
              <div className="mb-8">
                <h3 className="font-arabic-heading font-bold text-xl text-foreground mb-4 flex items-center gap-2">
                  <div className="w-2 h-2 rounded-full gradient-gold" />
                  المهام والمسؤوليات
                </h3>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                  {directorate.responsibilities.map((responsibility, i) => (
                    <div key={i} className="flex items-start gap-3 bg-muted/30 rounded-xl p-4 border border-border">
                      <div className="w-2 h-2 rounded-full gradient-gold mt-2 flex-shrink-0" />
                      <span className="text-muted-foreground font-arabic-body">{responsibility}</span>
                    </div>
                  ))}
                </div>
              </div>

              {/* Objectives */}
              <div>
                <h3 className="font-arabic-heading font-bold text-xl text-foreground mb-4 flex items-center gap-2">
                  <div className="w-2 h-2 rounded-full gradient-gold" />
                  الأهداف الرئيسية
                </h3>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                  {directorate.objectives.map((objective, i) => (
                    <div key={i} className="flex items-start gap-3 bg-primary/5 rounded-xl p-4 border border-primary/20">
                      <div className="w-6 h-6 rounded-full gradient-gold flex items-center justify-center flex-shrink-0 mt-0.5">
                        <span className="text-primary text-xs font-bold">{i + 1}</span>
                      </div>
                      <span className="text-foreground font-arabic-body">{objective}</span>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          </motion.div>
        </motion.div>
      )}
    </AnimatePresence>
  );
};

export default DirectorateModal;
export { directoratesData };
